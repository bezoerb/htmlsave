!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.htmlsave=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
"use strict";
module.exports.slice = _dereq_('./modules/slice.js');
module.exports.truncate = _dereq_('./modules/truncate.js');


},{"./modules/slice.js":2,"./modules/truncate.js":3}],2:[function(_dereq_,module,exports){
"use strict";
var utils = _dereq_('./utils.js');
var defaults = {
  breakword: true,
  ellipsis: '...'
};
module.exports = function(string, maxLength, options) {
  var results = [],
      length = string.length,
      tmpLength = 0,
      tmp = '',
      tmpTag = '',
      max,
      openTags = [],
      ws = 0,
      restString = string.replace(/<[^>]*>/gm, ''),
      i,
      j;
  if (typeof options !== 'object') {
    options = defaults;
  } else {
    for (var key in defaults) {
      if (typeof options[key] === 'undefined') {
        options[key] = defaults[key];
      }
    }
  }
  if (utils.isArray(maxLength)) {
    max = Array.prototype.shift.call(maxLength);
  } else {
    max = maxLength;
  }
  for (i = 0; i < length; i++) {
    if ((i === 0 || string[i] === ' ') && !tmpTag.length && !options.breakword) {
      if (i > 0) {
        restString = string.substr(i + 1).replace(/<[^>]*>/gm, '');
      }
      ws = restString.indexOf(' ');
      if (ws < 0) {
        ws = restString.length;
      }
    }
    if (string[i] === '<' || tmpTag.length) {
      tmpTag += string[i];
      if (string[i] === '>' && (/<\//.test(tmpTag))) {
        tmp += tmpTag;
        tmpTag = '';
        openTags.pop();
      } else if (string[i] === '>' && utils.isVoidElement(tmpTag)) {
        tmp += tmpTag;
        tmpTag = '';
      } else if (string[i] === '>') {
        tmp += tmpTag;
        openTags.push(tmpTag);
        tmpTag = '';
      }
    } else {
      tmpLength++;
      tmp += string[i];
    }
    var notag = tmpTag === '' && ((i < string.length - 2 && string.substr(i + 1, 2) !== '</') || (i > string.length - 1)),
        lengthcheck = (tmpLength + ws) >= max && (options.breakword || utils.canSplit(string, i, !!options.ellipsis));
    if (lengthcheck && notag || i === length - 1) {
      var tmpnew = '';
      if (utils.isArray(maxLength) && maxLength.length) {
        max = Array.prototype.shift.call(maxLength);
      } else if (utils.isArray(maxLength)) {
        max = length;
      }
      for (j = openTags.length - 1; j >= 0; j--) {
        var tag = openTags[j],
            type = tag.match(/<\s*(\w+)\s*/)[1],
            close = '</' + type + '>';
        tmp += close;
        tmpnew = tag + tmpnew;
      }
      results.push(tmp);
      tmp = tmpnew;
      tmpLength = 0;
    }
  }
  return results;
};


},{"./utils.js":4}],3:[function(_dereq_,module,exports){
"use strict";
var utils = _dereq_('./utils.js');
var defaults = {
  breakword: false,
  ellipsis: '...'
};
module.exports = function(string, maxLength, options) {
  var length = string.length,
      tmpLength = 0,
      tmp = '',
      elength = 0,
      tmpTag = '',
      openTags = [],
      restString = string.replace(/<[^>]*>/gm, ''),
      i,
      j;
  if (typeof options !== 'object') {
    options = defaults;
  } else {
    for (var key in defaults) {
      if (typeof options[key] === 'undefined') {
        options[key] = defaults[key];
      }
    }
  }
  if (maxLength === 0) {
    return '';
  }
  if (maxLength < 0) {
    maxLength = restString.length + maxLength;
  }
  if (typeof options.ellipsis === 'string') {
    elength = options.ellipsis.length;
    if (elength > maxLength) {
      options.ellipsis = options.ellipsis.substr(0, maxLength);
      elength = options.ellipsis.length;
    }
  }
  if (elength >= maxLength) {
    throw 'htmlsave.truncate: Maxlength is less or equal ellipsis length';
  }
  for (i = 0; i < length; i++) {
    if (string[i] === '<' || tmpTag.length) {
      tmpTag += string[i];
      if (string[i] === '>' && (/<\//.test(tmpTag))) {
        tmp += tmpTag;
        tmpTag = '';
        openTags.pop();
      } else if (string[i] === '>' && utils.isVoidElement(tmpTag)) {
        tmp += tmpTag;
        tmpTag = '';
      } else if (string[i] === '>') {
        tmp += tmpTag;
        openTags.push(tmpTag);
        tmpTag = '';
      }
    } else {
      tmpLength++;
      tmp += string[i];
    }
    var notag = tmpTag === '' && ((i < string.length - 2 && string.substr(i + 1, 2) !== '</') || (i > string.length - 1));
    var ws = options.breakword ? 0 : notag && utils.findNextWhitespacePosition(string, i + 1);
    var lengthcheck = (tmpLength + ws + elength) > maxLength && (options.breakword || utils.canSplit(string, i));
    if (lengthcheck && notag || i === length - 1) {
      if (string[i] === ' ') {
        tmp = tmp.substr(0, tmp.length - 1);
        tmpLength--;
      }
      if (tmpLength > (maxLength - elength)) {
        var diff = tmp.length + (maxLength - (tmpLength + elength));
        if (/^<?[^<]*>/.test(tmp.substr(diff))) {
          tmp = tmp.substr(0, diff).substr(0, tmp.lastIndexOf('<'));
          openTags.pop();
        } else {
          tmp = tmp.substr(0, diff);
        }
      }
      if (openTags.length === 0 && options.ellipsis && tmp.length < string.length) {
        tmp += options.ellipsis;
      }
      for (j = openTags.length - 1; j >= 0; j--) {
        var tag = openTags[j],
            type = tag.match(/<\s*(\w+)\s*/)[1],
            close = '</' + type + '>';
        if (j === openTags.length - 1 && options.ellipsis) {
          tmp += options.ellipsis;
        }
        tmp += close;
      }
      break;
    }
  }
  return tmp;
};


},{"./utils.js":4}],4:[function(_dereq_,module,exports){
"use strict";
"use Strict";
var blockLevelElements = ['address', 'article', 'aside', 'audio', 'blockquote', 'canvas', 'dd', 'div', 'dl', 'fieldset', 'figcaption', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table', 'tfoot', 'ul', 'video'];
function isArray(value) {
  return (value && typeof value === 'object' && typeof value.length === 'number' && Object.prototype.toString.call(value) === '[object Array]') || false;
}
function canSplit(string, i, allowEmptyTags) {
  if (i <= 0 || i >= string.length) {
    return false;
  }
  if (string[i] === ' ') {
    return true;
  }
  var tagBefore,
      tagAfter;
  if (allowEmptyTags) {
    tagBefore = (string.substr(0, i).match(/<\/([\w]+)\/?>?$/m) || ['-', '-'])[1];
    tagAfter = (string.substr(i + 1).match(/^<?([\w]+)\/?>/m) || ['-', '-'])[1];
  } else {
    tagBefore = (string.substr(0, i).match(/<\/?([\w]+)\/?>?$/m) || ['-', '-'])[1];
    tagAfter = (string.substr(i + 1).match(/^<?\/?([\w]+)\/?>/m) || ['-', '-'])[1];
  }
  if (blockLevelElements.indexOf(tagBefore) !== -1 || blockLevelElements.indexOf(tagAfter) !== -1) {
    return true;
  }
  return false;
}
function findNextWhitespacePosition(string, offset) {
  var sub = string.substr(offset),
      insideTag = /^[^<]*>/.test(sub),
      reg = new RegExp('<\/?((?:' + blockLevelElements.join(')|(?:') + '))'),
      tagMatch = sub.match(reg);
  if (insideTag) {
    var match = string.substr(string.substr(0, offset).lastIndexOf('<')).match(/^<\/(\w+)/);
    if (match && blockLevelElements.indexOf(match[1]) !== -1) {
      return 0;
    } else {
      sub = sub.substr(sub.indexOf('>') + 1);
    }
  }
  var p1 = strip_tags(sub).indexOf(' ');
  var p2 = tagMatch ? strip_tags(sub.substr(0, sub.indexOf(tagMatch[0]))).length : p1 + 1;
  var result = Math.min(p1, p2);
  return result >= 0 ? result : string.length;
}
function isBlockLevelElement(tag) {
  var type = (tag.match(/<(\w+)/) || ['-', '-'])[1];
  return blockLevelElements.indexOf(type) !== -1;
}
function isVoidElement(tag) {
  var voidElements = ['area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'];
  var type = (tag.match(/<(\w+)/) || ['-', '-'])[1];
  return voidElements.indexOf(type) !== -1;
}
function strip_tags(input, allowed) {
  allowed = (((allowed || '') + '').toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join('');
  var tags = /<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,
      commentsAndPhpTags = /<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;
  return input.replace(commentsAndPhpTags, '').replace(tags, function($0, $1) {
    return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';
  });
}
;
module.exports.isArray = isArray;
module.exports.canSplit = canSplit;
module.exports.isBlockLevelElement = isBlockLevelElement;
module.exports.isVoidElement = isVoidElement;
module.exports.findNextWhitespacePosition = findNextWhitespacePosition;
module.exports.stripTags = strip_tags;


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZW4vR2l0SHViL2h0bWxzYXZlL25vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYmVuL0dpdEh1Yi9odG1sc2F2ZS9zcmMvaHRtbHNhdmUuanMiLCIvVXNlcnMvYmVuL0dpdEh1Yi9odG1sc2F2ZS9zcmMvbW9kdWxlcy9zbGljZS5qcyIsIi9Vc2Vycy9iZW4vR2l0SHViL2h0bWxzYXZlL3NyYy9tb2R1bGVzL3RydW5jYXRlLmpzIiwiL1VzZXJzL2Jlbi9HaXRIdWIvaHRtbHNhdmUvc3JjL21vZHVsZXMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNVQTtBQUFBLENBQUEsS0FBTSxRQUFRLE1BQU0sRUFBRyxDQUFBLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ3JELENBQUEsS0FBTSxRQUFRLFNBQVMsRUFBRyxDQUFBLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0NBQUE7OztBQ1gzRDtBQUFJLENBQUosRUFBSSxDQUFBLEtBQUssRUFBRyxDQUFBLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUU5QixDQUFKLEVBQUksQ0FBQSxRQUFRLEVBQUc7QUFDWCxDQUFBLFVBQVMsQ0FBRSxLQUFJO0FBQ2YsQ0FBQSxTQUFRLENBQUUsTUFBSztDQUFBLEFBQ2xCLENBQUM7QUFlRixDQUFBLEtBQU0sUUFBUSxFQUFHLFVBQVMsTUFBTSxDQUFFLENBQUEsU0FBUyxDQUFFLENBQUEsT0FBTyxDQUFFO0FBQzlDLENBQUosSUFBSSxDQUFBLE9BQU8sRUFBRyxHQUFFO0FBQ1osQ0FBQSxXQUFNLEVBQUcsQ0FBQSxNQUFNLE9BQU87QUFDdEIsQ0FBQSxjQUFTLEVBQUcsRUFBQztBQUNiLENBQUEsUUFBRyxFQUFHLEdBQUU7QUFDUixDQUFBLFdBQU0sRUFBRyxHQUFFO0FBQ1gsQ0FBQSxR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O0NBQ3BFLE9BQU8sQ0FBQSxLQUFLLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBRSxHQUFFLENBQUMsUUFDaEMsQ0FBQyxJQUFJLENBQUUsVUFBUyxFQUFFLENBQUUsQ0FBQSxFQUFFLENBQUU7Q0FDNUIsU0FBTyxDQUFBLE9BQU8sUUFBUSxDQUFDLEdBQUcsRUFBRyxDQUFBLEVBQUUsWUFBWSxFQUFFLENBQUEsQ0FBRyxJQUFHLENBQUMsQ0FBQSxDQUFHLEVBQUMsQ0FBQyxDQUFBLENBQUcsR0FBRSxFQUFHLEdBQUUsQ0FBQztHQUN2RSxDQUFDLENBQUM7Q0FDVjtBQUFBLENBQUEsQUFBQztBQUVGLENBQUEsS0FBTSxRQUFRLFFBQVEsRUFBRyxRQUFPLENBQUM7QUFDakMsQ0FBQSxLQUFNLFFBQVEsU0FBUyxFQUFHLFNBQVEsQ0FBQztBQUNuQyxDQUFBLEtBQU0sUUFBUSxvQkFBb0IsRUFBRyxvQkFBbUIsQ0FBQztBQUN6RCxDQUFBLEtBQU0sUUFBUSxjQUFjLEVBQUcsY0FBYSxDQUFDO0FBQzdDLENBQUEsS0FBTSxRQUFRLDJCQUEyQixFQUFHLDJCQUEwQixDQUFDO0FBQ3ZFLENBQUEsS0FBTSxRQUFRLFVBQVUsRUFBRyxXQUFVLENBQUM7Q0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcbiAqXG4gKiBAYXV0aG9yIEJlbiBaw7ZyYiBAYmV6b2VyYiBodHRwczovL2dpdGh1Yi5jb20vYmV6b2VyYlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgQmVuIFrDtnJiXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2Jlem9lcmIubWl0LWxpY2Vuc2Uub3JnL1xuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cy5zbGljZSA9IHJlcXVpcmUoJy4vbW9kdWxlcy9zbGljZS5qcycpO1xubW9kdWxlLmV4cG9ydHMudHJ1bmNhdGUgPSByZXF1aXJlKCcuL21vZHVsZXMvdHJ1bmNhdGUuanMnKTsiLCJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzLmpzJyk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBicmVha3dvcmQ6IHRydWUsXG4gICAgZWxsaXBzaXM6ICcuLi4nXG59O1xuXG5cblxuLyoqXG4gKiBTcGxpdCBIVE1MIHN0cmluZyBhbmQga2VlcCB0YWcgc2FmZS5cbiAqXG4gKiBAbWV0aG9kIHRydW5jYXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIHN0cmluZyBuZWVkcyB0byBiZSB0cnVuY2F0ZWRcbiAqIEBwYXJhbSB7TnVtYmVyfEFycmF5fSBtYXhMZW5ndGggbGVuZ3RoIG9mIHRydW5jYXRlZCBzdHJpbmcgd2hlbiBhcnJheSBpcyBwcm92aWRlZCB1c2UgYXMgYnJlYWtwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIChvcHRpb25hbClcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYnJlYWt3b3JkXSBmbGFnIHRvIHNwZWNpZnkgaWYgd29yZHMgc2hvdWxkIGJlIHNwbGl0dGVkLCBmYWxzZSBieSBkZWZhdWx0XG4gKiBAcGFyYW0ge0Jvb2xlYW58U3RyaW5nfSBbb3B0aW9ucy5lbGxpcHNpc10gb21pc3Npb24gc3ltYm9sIGZvciB0cnVuY2F0ZWQgc3RyaW5nLCAnLi4uJyBieSBkZWZhdWx0XG4gKiBAcmV0dXJuIHtBcnJheX0gU3RyaW5nIHBhcnRzXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3RyaW5nLCBtYXhMZW5ndGgsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdLFxuICAgICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB0bXBMZW5ndGggPSAwLFxuICAgICAgICB0bXAgPSAnJyxcbiAgICAgICAgdG1wVGFnID0gJycsXG4gICAgICAgIG1heCxcbiAgICAgICAgb3BlblRhZ3MgPSBbXSxcbiAgICAgICAgd3MgPSAwLFxuICAgICAgICByZXN0U3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoLzxbXj5dKj4vZ20sJycpLFxuICAgICAgICBpLGo7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIG9wdGlvbnMgPSBkZWZhdWx0cztcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShtYXhMZW5ndGgpKSB7XG4gICAgICAgIG1heCA9IEFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKG1heExlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWF4ID0gbWF4TGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAvLyByZW1lbWJlciBsYXN0IHdoaXRlc3BhY2VcbiAgICAgICAgaWYgKChpID09PSAwIHx8IHN0cmluZ1tpXSA9PT0gJyAnKSAmJiAhdG1wVGFnLmxlbmd0aCAmJiAhb3B0aW9ucy5icmVha3dvcmQpIHtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3RTdHJpbmcgPSBzdHJpbmcuc3Vic3RyKGkrMSkucmVwbGFjZSgvPFtePl0qPi9nbSwnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cyA9IHJlc3RTdHJpbmcuaW5kZXhPZignICcpO1xuICAgICAgICAgICAgLy8gbm90IGZvdW5kLCB1c2UgcmVzdCBzdHJpbmcgbGVuZ3RoXG4gICAgICAgICAgICBpZiAod3MgPCAwKSB7XG4gICAgICAgICAgICAgICAgd3MgPSByZXN0U3RyaW5nLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRhZyBmb3VuZFxuICAgICAgICBpZiAoc3RyaW5nW2ldID09PSAnPCcgfHwgdG1wVGFnLmxlbmd0aCkge1xuICAgICAgICAgICAgdG1wVGFnICs9IHN0cmluZ1tpXTtcbiAgICAgICAgICAgIC8vIGNsb3NpbmcgVGFnIGZvdW5nIC0gcmVtb3ZlIGxhc3QgZnJvbSBvcGVuIHRhZ3NcbiAgICAgICAgICAgIGlmIChzdHJpbmdbaV0gPT09ICc+JyAmJiAoLzxcXC8vLnRlc3QodG1wVGFnKSkpIHtcbiAgICAgICAgICAgICAgICB0bXAgKz0gdG1wVGFnO1xuICAgICAgICAgICAgICAgIHRtcFRhZyA9ICcnO1xuICAgICAgICAgICAgICAgIG9wZW5UYWdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIC8vIHZvaWQgZWxlbWVudCB0YWcgZm91bmQgLSBqdXN0IGFwcGVuZCB0byBzdHJpbmdcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sLW1hcmt1cC9zeW50YXguaHRtbCN2b2lkLWVsZW1lbnRcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nW2ldID09PSAnPicgJiYgdXRpbHMuaXNWb2lkRWxlbWVudCh0bXBUYWcpICkge1xuICAgICAgICAgICAgICAgIHRtcCArPSB0bXBUYWc7XG4gICAgICAgICAgICAgICAgdG1wVGFnID0gJyc7XG4gICAgICAgICAgICAgICAgLy8gb3BlbmluZyB0YWcgZm91bmRcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nW2ldID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICB0bXAgKz0gdG1wVGFnO1xuICAgICAgICAgICAgICAgIG9wZW5UYWdzLnB1c2godG1wVGFnKTtcbiAgICAgICAgICAgICAgICB0bXBUYWcgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRtcExlbmd0aCsrO1xuICAgICAgICAgICAgdG1wICs9IHN0cmluZ1tpXTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIG5vdGFnID0gdG1wVGFnID09PSAnJyAmJiAoKGkgPCBzdHJpbmcubGVuZ3RoLTIgJiYgc3RyaW5nLnN1YnN0cihpKzEsMikgIT09ICc8LycpIHx8IChpID4gc3RyaW5nLmxlbmd0aCAtMSkpLFxuICAgICAgICAgICAgbGVuZ3RoY2hlY2sgPSAodG1wTGVuZ3RoICsgd3MpID49IG1heCAgJiYgKG9wdGlvbnMuYnJlYWt3b3JkIHx8IHV0aWxzLmNhblNwbGl0KHN0cmluZyxpLCEhb3B0aW9ucy5lbGxpcHNpcykpO1xuXG4gICAgICAgIC8vIGJyZWFrIGF0IHdoaXRlc3BhY2UgaWYgbWF4bGVuZ3RoIHJlYWNoZWRcbiAgICAgICAgaWYgKGxlbmd0aGNoZWNrICYmIG5vdGFnIHx8IGkgPT09IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHZhciB0bXBuZXcgPSAnJztcblxuICAgICAgICAgICAgaWYgKHV0aWxzLmlzQXJyYXkobWF4TGVuZ3RoKSAmJiBtYXhMZW5ndGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gQXJyYXkucHJvdG90eXBlLnNoaWZ0LmNhbGwobWF4TGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBcnJheShtYXhMZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gbGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgY2xvc2luZyB0YWdzIGlmIGFwcGxpY2FibGUsIHB1c2ggdG8gcmVzdWx0IGFycmF5IGFuZCBzdGFydCBvdmVyXG4gICAgICAgICAgICBmb3IgKGogPSBvcGVuVGFncy5sZW5ndGggLSAxOyBqID49IDAgOyBqLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFnID0gb3BlblRhZ3Nbal0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0YWcubWF0Y2goLzxcXHMqKFxcdyspXFxzKi8pWzFdLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZSA9ICc8LycgKyB0eXBlICsgJz4nO1xuXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIGNsb3NpbmcgdGFnIHRvIHBhcnQgeFxuICAgICAgICAgICAgICAgIHRtcCArPSBjbG9zZTtcbiAgICAgICAgICAgICAgICAvLyBwcmVwZW5kIG9wZW5pbmcgdGFnIHRvIHBhcnQgeCsxXG4gICAgICAgICAgICAgICAgdG1wbmV3ID0gdGFnICsgdG1wbmV3O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2godG1wKTtcbiAgICAgICAgICAgIHRtcCA9IHRtcG5ldztcbiAgICAgICAgICAgIHRtcExlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufTsiLCJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzLmpzJyk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBicmVha3dvcmQ6IGZhbHNlLFxuICAgIGVsbGlwc2lzOiAnLi4uJ1xufTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBCZW4gWsO2cmIgQGJlem9lcmIgaHR0cHM6Ly9naXRodWIuY29tL2Jlem9lcmJcbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IEJlbiBaw7ZyYlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9iZXpvZXJiLm1pdC1saWNlbnNlLm9yZy9cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cblxuLyoqXG4gKiBUcnVuY2F0ZSBIVE1MIHN0cmluZyBhbmQga2VlcCB0YWcgc2FmZS5cbiAqXG4gKiBJZiBzdHIgaXMgbGVzcyB0aGFuIG1heFdpZHRoIGNoYXJhY3RlcnMgbG9uZywgcmV0dXJuIGl0LlxuICogRWxzZSBhYmJyZXZpYXRlIGl0IHRvIChzdWJzdHJpbmcoc3RyLCAwLCBtYXgtZWxsaXBzaXMubGVuZ3RoKSArIGVsbGlwc2lzKS5cbiAqIElmIG1heExlbmd0aCBpcyBsZXNzIG9yIGVxdWFscyB0aGFuIGVsbGlwc2lzLmxlbmd0aCwgdGhyb3cgYW4gRXJyb3IuXG4gKiBJbiBubyBjYXNlIHdpbGwgaXQgcmV0dXJuIGEgU3RyaW5nIG9mIGxlbmd0aCBncmVhdGVyIHRoYW4gbWF4V2lkdGguXG4gKlxuICogQG1ldGhvZCB0cnVuY2F0ZVxuICogQGFsaWFzIGFiYnJldmlhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgc3RyaW5nIG5lZWRzIHRvIGJlIHRydW5jYXRlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG1heExlbmd0aCBsZW5ndGggb2YgdHJ1bmNhdGVkIHN0cmluZ1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgKG9wdGlvbmFsKVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5icmVha3dvcmRdIGZsYWcgdG8gc3BlY2lmeSBpZiB3b3JkcyBzaG91bGQgYmUgc3BsaXR0ZWQsIGZhbHNlIGJ5IGRlZmF1bHRcbiAqIEBwYXJhbSB7Qm9vbGVhbnxTdHJpbmd9IFtvcHRpb25zLmVsbGlwc2lzXSBvbWlzc2lvbiBzeW1ib2wgZm9yIHRydW5jYXRlZCBzdHJpbmcsICcuLi4nIGJ5IGRlZmF1bHRcbiAqIEByZXR1cm4ge0FycmF5fSBTdHJpbmcgcGFydHNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzdHJpbmcsIG1heExlbmd0aCwgb3B0aW9ucykge1xuICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICAvL3dzID0gMCxcbiAgICAgICAgdG1wTGVuZ3RoID0gMCxcbiAgICAgICAgdG1wID0gJycsXG4gICAgICAgIGVsZW5ndGggPSAwLFxuICAgICAgICB0bXBUYWcgPSAnJyxcbiAgICAgICAgb3BlblRhZ3MgPSBbXSxcbiAgICAgICAgcmVzdFN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC88W14+XSo+L2dtLCcnKSxcbiAgICAgICAgaSxqO1xuXG4gICAgLy8gcHJlcGFyZSBvcHRpb25zXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0gZGVmYXVsdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3BlY2lhbCBjYXNlOiBtYXhsZW5ndGg6IDBcbiAgICBpZiAobWF4TGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBuZWdhdGl2ZSBtYXhsZW5ndGggc2hvdWxkIGNvdW50IGZyb20gdGhlIGVuZFxuICAgIGlmIChtYXhMZW5ndGggPCAwKSB7XG4gICAgICAgIG1heExlbmd0aCA9IHJlc3RTdHJpbmcubGVuZ3RoICsgbWF4TGVuZ3RoO1xuICAgIH1cblxuXG4gICAgLy8gY29tcHV0ZSBsZW5ndGggb2YgZWxsaXBzaXNcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZWxsaXBzaXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW5ndGggPSBvcHRpb25zLmVsbGlwc2lzLmxlbmd0aDtcbiAgICAgICAgaWYgKGVsZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZWxsaXBzaXMgPSBvcHRpb25zLmVsbGlwc2lzLnN1YnN0cigwLG1heExlbmd0aCk7XG4gICAgICAgICAgICBlbGVuZ3RoID0gb3B0aW9ucy5lbGxpcHNpcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIHRocm93IGFuIGVycm9yIGlmIG1heGxlbmd0aCBpcyBsZXNzIG9yIGVxdWFsYSBlbGxpcHNpcyBsZW5ndGhcbiAgICBpZiAoZWxlbmd0aCA+PSBtYXhMZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgJ2h0bWxzYXZlLnRydW5jYXRlOiBNYXhsZW5ndGggaXMgbGVzcyBvciBlcXVhbCBlbGxpcHNpcyBsZW5ndGgnO1xuICAgIH1cblxuICAgIC8vIHBhcnNlIHN0cmluZ1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAvLyB0YWcgZm91bmRcbiAgICAgICAgaWYgKHN0cmluZ1tpXSA9PT0gJzwnIHx8IHRtcFRhZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRtcFRhZyArPSBzdHJpbmdbaV07XG4gICAgICAgICAgICAvLyBjbG9zaW5nIFRhZyBmb3VuZyAtIHJlbW92ZSBsYXN0IGZyb20gb3BlbiB0YWdzXG4gICAgICAgICAgICBpZiAoc3RyaW5nW2ldID09PSAnPicgJiYgKC88XFwvLy50ZXN0KHRtcFRhZykpKSB7XG4gICAgICAgICAgICAgICAgdG1wICs9IHRtcFRhZztcbiAgICAgICAgICAgICAgICB0bXBUYWcgPSAnJztcbiAgICAgICAgICAgICAgICBvcGVuVGFncy5wb3AoKTtcbiAgICAgICAgICAgICAgICAvLyB0YWcgZm91bmQgd2hpY2ggY2xvc2VzIGl0c2VsZiAtIGp1c3QgYXBwZW5kIHRvIHN0cmluZ1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpbmdbaV0gPT09ICc+JyAmJiB1dGlscy5pc1ZvaWRFbGVtZW50KHRtcFRhZykpIHtcbiAgICAgICAgICAgICAgICB0bXAgKz0gdG1wVGFnO1xuICAgICAgICAgICAgICAgIHRtcFRhZyA9ICcnO1xuICAgICAgICAgICAgICAgIC8vIG9wZW5pbmcgdGFnIGZvdW5kXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmluZ1tpXSA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgdG1wICs9IHRtcFRhZztcbiAgICAgICAgICAgICAgICBvcGVuVGFncy5wdXNoKHRtcFRhZyk7XG4gICAgICAgICAgICAgICAgdG1wVGFnID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0bXBMZW5ndGgrKztcbiAgICAgICAgICAgIHRtcCArPSBzdHJpbmdbaV07XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciBub3RhZyA9IHRtcFRhZyA9PT0gJycgJiYgKChpIDwgc3RyaW5nLmxlbmd0aC0yICYmIHN0cmluZy5zdWJzdHIoaSsxLDIpICE9PSAnPC8nKSB8fCAoaSA+IHN0cmluZy5sZW5ndGggLTEpKTtcbiAgICAgICAgdmFyIHdzID0gb3B0aW9ucy5icmVha3dvcmQgPyAwIDogbm90YWcgJiYgdXRpbHMuZmluZE5leHRXaGl0ZXNwYWNlUG9zaXRpb24oc3RyaW5nLGkrMSk7XG4gICAgICAgIHZhciBsZW5ndGhjaGVjayA9ICh0bXBMZW5ndGggKyB3cyArIGVsZW5ndGgpID4gbWF4TGVuZ3RoICAmJiAob3B0aW9ucy5icmVha3dvcmQgfHwgdXRpbHMuY2FuU3BsaXQoc3RyaW5nLGkpKTtcblxuXG4gICAgICAgIC8vIGJyZWFrIGF0IHdoaXRlc3BhY2UgaWYgbWF4bGVuZ3RoIHJlYWNoZWRcbiAgICAgICAgaWYgKGxlbmd0aGNoZWNrICYmIG5vdGFnIHx8IGkgPT09IGxlbmd0aCAtIDEpIHtcblxuICAgICAgICAgICAgLy8gc3RhcnRpbmcgcG9pbnQgZm9yIG5leHQgc3RyaW5nXG4gICAgICAgICAgICBpZiAoc3RyaW5nW2ldID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICB0bXAgPSB0bXAuc3Vic3RyKDAsdG1wLmxlbmd0aC0xKTtcbiAgICAgICAgICAgICAgICB0bXBMZW5ndGgtLTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRtcExlbmd0aCA+IChtYXhMZW5ndGggLWVsZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSB0bXAubGVuZ3RoICsgKG1heExlbmd0aCAtICh0bXBMZW5ndGggKyBlbGVuZ3RoKSk7XG5cblxuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGNvbmZsaWN0aW5nIHRhZ3NcbiAgICAgICAgICAgICAgICBpZiAoL148P1tePF0qPi8udGVzdCh0bXAuc3Vic3RyKGRpZmYpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25mbGljdGVkIHRhZyBmb3VuZCAtPiByZW1vdmUgZnJvbSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gdG1wLnN1YnN0cigwLGRpZmYpLnN1YnN0cigwLHRtcC5sYXN0SW5kZXhPZignPCcpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHJlbW92ZSBmcm9tIHN0YWNrXG4gICAgICAgICAgICAgICAgICAgIG9wZW5UYWdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5zdWJzdHIoMCxkaWZmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcGVuVGFncy5sZW5ndGggPT09IDAgJiYgb3B0aW9ucy5lbGxpcHNpcyAmJiB0bXAubGVuZ3RoIDwgc3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRtcCArPSBvcHRpb25zLmVsbGlwc2lzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgY2xvc2luZyB0YWdzIGlmIGFwcGxpY2FibGUsIHB1c2ggdG8gcmVzdWx0IGFycmF5IGFuZCBzdGFydCBvdmVyXG4gICAgICAgICAgICBmb3IgKGogPSBvcGVuVGFncy5sZW5ndGggLSAxOyBqID49IDAgOyBqLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFnID0gb3BlblRhZ3Nbal0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0YWcubWF0Y2goLzxcXHMqKFxcdyspXFxzKi8pWzFdLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZSA9ICc8LycgKyB0eXBlICsgJz4nO1xuXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIGNsb3NpbmcgdGFnIHRvIHBhcnQgeFxuICAgICAgICAgICAgICAgIGlmIChqID09PSBvcGVuVGFncy5sZW5ndGggLSAxICYmIG9wdGlvbnMuZWxsaXBzaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wICs9IG9wdGlvbnMuZWxsaXBzaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRtcCArPSBjbG9zZTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gdG1wO1xufTsiLCIvKipcbiAqXG4gKiBAYXV0aG9yIEJlbiBaw7ZyYiBAYmV6b2VyYiBodHRwczovL2dpdGh1Yi5jb20vYmV6b2VyYlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgQmVuIFrDtnJiXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2Jlem9lcmIubWl0LWxpY2Vuc2Uub3JnL1xuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuXG5cInVzZSBTdHJpY3RcIjtcblxudmFyIGJsb2NrTGV2ZWxFbGVtZW50cyA9IFsnYWRkcmVzcycsJ2FydGljbGUnLCdhc2lkZScsJ2F1ZGlvJywnYmxvY2txdW90ZScsJ2NhbnZhcycsJ2RkJywnZGl2JywnZGwnLCdmaWVsZHNldCcsXG4gICAgJ2ZpZ2NhcHRpb24nLCdmb290ZXInLCdmb3JtJywnaDEnLCdoMicsJ2gzJywnaDQnLCdoNScsJ2g2JywnaGVhZGVyJywnaGdyb3VwJywnaHInLCdub3NjcmlwdCcsJ29sJywnb3V0cHV0JyxcbiAgICAncCcsJ3ByZScsJ3NlY3Rpb24nLCd0YWJsZScsJ3Rmb290JywndWwnLCd2aWRlbyddO1xuXG4vKipcbiAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIGFycmF5XG4gKiBAcGFyYW0gdmFsdWVcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICdudW1iZXInICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIGNoZWNrIGlmIHN0cmluZyBjYW4gYmUgc3BsaXR0ZWQgb24gcG9zaXRpb24gd2l0aG91dCBicmVha2luZyBhIHdvcmRcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHBhcmFtIHtpbnR9IGlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dFbXB0eVRhZ3NcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYW5TcGxpdChzdHJpbmcsaSxhbGxvd0VtcHR5VGFncykge1xuICAgIC8vIGkgaXMgbm90IHdpdGhpbiB0aGUgcmFuZ2Ugb2YgaVxuICAgIGlmIChpIDw9IDAgfHwgaSA+PSBzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBzYXZlIHNwbGl0dGluZyBjYW4gYmUgZG9uZSBvbiB3aGl0ZXNwYWNlIDspXG4gICAgaWYgKHN0cmluZ1tpXSA9PT0gJyAnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIG9yIGFmdGVyIGNsb3NpbmcgcmVzcGVjdGl2ZWx5IGJlZm9yZSBvcGVuaW5nIGFuIGJsb2NrIGxldmVsIGVsZW1lbnRcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0Jsb2NrLWxldmVsX2VsZW1lbnRzXG4gICAgdmFyIHRhZ0JlZm9yZSx0YWdBZnRlcjtcblxuXG4gICAgaWYgKGFsbG93RW1wdHlUYWdzKSB7XG4gICAgICAgIC8vIGZldGNoIGNsb3NpbmcgdGFnIHJpZ2h0IGJlZm9yZSBpXG4gICAgICAgIHRhZ0JlZm9yZSA9IChzdHJpbmcuc3Vic3RyKDAsaSkubWF0Y2goLzxcXC8oW1xcd10rKVxcLz8+PyQvbSkgfHwgWyctJywnLSddKVsxXTtcbiAgICAgICAgLy8gZmV0Y2ggb3BlbmluZyB0YWcgcmlnaHQgYmVoaW5kIGlcbiAgICAgICAgdGFnQWZ0ZXIgPSAoc3RyaW5nLnN1YnN0cihpKzEpLm1hdGNoKC9ePD8oW1xcd10rKVxcLz8+L20pIHx8IFsnLScsJy0nXSlbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmV0Y2ggdGFnIHJpZ2h0IGJlZm9yZSBpXG4gICAgICAgIHRhZ0JlZm9yZSA9IChzdHJpbmcuc3Vic3RyKDAsaSkubWF0Y2goLzxcXC8/KFtcXHddKylcXC8/Pj8kL20pIHx8IFsnLScsJy0nXSlbMV07XG4gICAgICAgIC8vIGZldGNoIHRhZyByaWdodCBiZWhpbmQgaVxuICAgICAgICB0YWdBZnRlciA9IChzdHJpbmcuc3Vic3RyKGkrMSkubWF0Y2goL148P1xcLz8oW1xcd10rKVxcLz8+L20pIHx8IFsnLScsJy0nXSlbMV07XG4gICAgfVxuXG4gICAgaWYgKGJsb2NrTGV2ZWxFbGVtZW50cy5pbmRleE9mKHRhZ0JlZm9yZSkgIT09IC0xIHx8IGJsb2NrTGV2ZWxFbGVtZW50cy5pbmRleE9mKHRhZ0FmdGVyKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gYW55IG90aGVyIGNhc2Ugc2hvdWxkIHJldHVybiBmYWxzZVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBuZXh0ICd2aXNpYmxlJyBwb3NpdGlvbiBmb3IgYSBwb3NzaWJsZSBjdXRcbiAqXG4gKiBAcGFyYW0gc3RyaW5nXG4gKlxuICogQHJldHVybiBpbnRcbiAqL1xuZnVuY3Rpb24gZmluZE5leHRXaGl0ZXNwYWNlUG9zaXRpb24oc3RyaW5nLG9mZnNldCkge1xuICAgIHZhciBzdWIgPSBzdHJpbmcuc3Vic3RyKG9mZnNldCksXG4gICAgICAgIGluc2lkZVRhZyA9IC9eW148XSo+Ly50ZXN0KHN1YiksXG4gICAgICAgIHJlZyA9IG5ldyBSZWdFeHAoJzxcXC8/KCg/OicgKyBibG9ja0xldmVsRWxlbWVudHMuam9pbignKXwoPzonKSArICcpKScpLFxuICAgICAgICB0YWdNYXRjaCA9IHN1Yi5tYXRjaChyZWcpO1xuXG5cbiAgICAvLyBjb21wdXRlIG5leHQgd2hpdGVzcGFjZSBwb3NpdGlvblxuICAgIGlmIChpbnNpZGVUYWcpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIGluc2lkZSBhIGNsb3NpbmcgYmxvY2tsZXZlbCBlbGVtZW50LCBuZXh0IHBvc3NpYmxlIGN1dCBpcyByaWdodCBhZnRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgdGFncyBhcmUgbm90IHZpc2libGUsIHdlIHJldHVybiAwXG4gICAgICAgIHZhciBtYXRjaCA9IHN0cmluZy5zdWJzdHIoc3RyaW5nLnN1YnN0cigwLG9mZnNldCkubGFzdEluZGV4T2YoJzwnKSkubWF0Y2goL148XFwvKFxcdyspLyk7XG4gICAgICAgIGlmIChtYXRjaCAmJiBibG9ja0xldmVsRWxlbWVudHMuaW5kZXhPZihtYXRjaFsxXSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IGNvdW50aW5nIGZyb20gdGhlIGVuZCBvZiB0aGUgdGFnXG4gICAgICAgICAgICBzdWIgPSBzdWIuc3Vic3RyKHN1Yi5pbmRleE9mKCc+JykrMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcDEgPSBzdHJpcF90YWdzKHN1YikuaW5kZXhPZignICcpO1xuICAgIHZhciBwMiA9IHRhZ01hdGNoID8gc3RyaXBfdGFncyhzdWIuc3Vic3RyKDAsc3ViLmluZGV4T2YodGFnTWF0Y2hbMF0pKSkubGVuZ3RoIDogcDEgKzE7XG4gICAgdmFyIHJlc3VsdCA9IE1hdGgubWluKHAxLHAyKTtcblxuICAgIHJldHVybiByZXN1bHQgPj0gMCA/IHJlc3VsdCA6IHN0cmluZy5sZW5ndGg7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBlbGVtZW50IGlzIGEgdm9pZCBlbGVtZW50XG4gKiBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sLW1hcmt1cC9zeW50YXguaHRtbCN2b2lkLWVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gdGFnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNCbG9ja0xldmVsRWxlbWVudCh0YWcpIHtcbiAgICAvLyBnZXQgZWxlbWVudCB0eXBlIGZyb20gdGFnXG4gICAgdmFyIHR5cGUgPSAodGFnLm1hdGNoKC88KFxcdyspLykgfHwgWyctJywnLSddKVsxXTtcblxuICAgIHJldHVybiBibG9ja0xldmVsRWxlbWVudHMuaW5kZXhPZih0eXBlKSAhPT0gLTE7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBlbGVtZW50IGlzIGEgdm9pZCBlbGVtZW50XG4gKiBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sLW1hcmt1cC9zeW50YXguaHRtbCN2b2lkLWVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gdGFnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWb2lkRWxlbWVudCh0YWcpIHtcbiAgICB2YXIgdm9pZEVsZW1lbnRzID0gWydhcmVhJywgJ2Jhc2UnLCAnYnInLCAnY29sJywgJ2NvbW1hbmQnLCAnZW1iZWQnLCAnaHInLCAnaW1nJywgJ2lucHV0JywgJ2tleWdlbicsICdsaW5rJyxcbiAgICAgICAgJ21ldGEnLCAncGFyYW0nLCAnc291cmNlJywgJ3RyYWNrJywgJ3diciddO1xuXG4gICAgLy8gZ2V0IGVsZW1lbnQgdHlwZSBmcm9tIHRhZ1xuICAgIHZhciB0eXBlID0gKHRhZy5tYXRjaCgvPChcXHcrKS8pIHx8IFsnLScsJy0nXSlbMV07XG5cbiAgICByZXR1cm4gdm9pZEVsZW1lbnRzLmluZGV4T2YodHlwZSkgIT09IC0xO1xufVxuXG4vKipcbiAqIFN0cmlwIHRhZ3NcbiAqIEBwYXJhbSBpbnB1dFxuICogQHBhcmFtIGFsbG93ZWRcbiAqIEByZXR1cm5zIHtYTUx8c3RyaW5nfVxuICovXG5mdW5jdGlvbiBzdHJpcF90YWdzKGlucHV0LCBhbGxvd2VkKSB7XG4gICAgLy8gIGRpc2N1c3MgYXQ6IGh0dHA6Ly9waHBqcy5vcmcvZnVuY3Rpb25zL3N0cmlwX3RhZ3MvXG4gICAgLy8gb3JpZ2luYWwgYnk6IEtldmluIHZhbiBab25uZXZlbGQgKGh0dHA6Ly9rZXZpbi52YW56b25uZXZlbGQubmV0KVxuICAgIC8vIGltcHJvdmVkIGJ5OiBMdWtlIEdvZGZyZXlcbiAgICAvLyBpbXByb3ZlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2tldmluLnZhbnpvbm5ldmVsZC5uZXQpXG4gICAgLy8gICAgaW5wdXQgYnk6IFB1bFxuICAgIC8vICAgIGlucHV0IGJ5OiBBbGV4XG4gICAgLy8gICAgaW5wdXQgYnk6IE1hcmMgUGFsYXVcbiAgICAvLyAgICBpbnB1dCBieTogQnJldHQgWmFtaXIgKGh0dHA6Ly9icmV0dC16YW1pci5tZSlcbiAgICAvLyAgICBpbnB1dCBieTogQm9iYnkgRHJha2VcbiAgICAvLyAgICBpbnB1dCBieTogRXZlcnRqYW4gR2FycmV0c2VuXG4gICAgLy8gYnVnZml4ZWQgYnk6IEtldmluIHZhbiBab25uZXZlbGQgKGh0dHA6Ly9rZXZpbi52YW56b25uZXZlbGQubmV0KVxuICAgIC8vIGJ1Z2ZpeGVkIGJ5OiBPbm5vIE1hcnNtYW5cbiAgICAvLyBidWdmaXhlZCBieTogS2V2aW4gdmFuIFpvbm5ldmVsZCAoaHR0cDovL2tldmluLnZhbnpvbm5ldmVsZC5uZXQpXG4gICAgLy8gYnVnZml4ZWQgYnk6IEtldmluIHZhbiBab25uZXZlbGQgKGh0dHA6Ly9rZXZpbi52YW56b25uZXZlbGQubmV0KVxuICAgIC8vIGJ1Z2ZpeGVkIGJ5OiBFcmljIE5hZ2VsXG4gICAgLy8gYnVnZml4ZWQgYnk6IEtldmluIHZhbiBab25uZXZlbGQgKGh0dHA6Ly9rZXZpbi52YW56b25uZXZlbGQubmV0KVxuICAgIC8vIGJ1Z2ZpeGVkIGJ5OiBUb21hc3ogV2Vzb2xvd3NraVxuICAgIC8vICByZXZpc2VkIGJ5OiBSYWZhxYIgS3VrYXdza2kgKGh0dHA6Ly9ibG9nLmt1a2F3c2tpLnBsLylcbiAgICAvLyAgIGV4YW1wbGUgMTogc3RyaXBfdGFncygnPHA+S2V2aW48L3A+IDxiciAvPjxiPnZhbjwvYj4gPGk+Wm9ubmV2ZWxkPC9pPicsICc8aT48Yj4nKTtcbiAgICAvLyAgIHJldHVybnMgMTogJ0tldmluIDxiPnZhbjwvYj4gPGk+Wm9ubmV2ZWxkPC9pPidcbiAgICAvLyAgIGV4YW1wbGUgMjogc3RyaXBfdGFncygnPHA+S2V2aW4gPGltZyBzcmM9XCJzb21laW1hZ2UucG5nXCIgb25tb3VzZW92ZXI9XCJzb21lRnVuY3Rpb24oKVwiPnZhbiA8aT5ab25uZXZlbGQ8L2k+PC9wPicsICc8cD4nKTtcbiAgICAvLyAgIHJldHVybnMgMjogJzxwPktldmluIHZhbiBab25uZXZlbGQ8L3A+J1xuICAgIC8vICAgZXhhbXBsZSAzOiBzdHJpcF90YWdzKFwiPGEgaHJlZj0naHR0cDovL2tldmluLnZhbnpvbm5ldmVsZC5uZXQnPktldmluIHZhbiBab25uZXZlbGQ8L2E+XCIsIFwiPGE+XCIpO1xuICAgIC8vICAgcmV0dXJucyAzOiBcIjxhIGhyZWY9J2h0dHA6Ly9rZXZpbi52YW56b25uZXZlbGQubmV0Jz5LZXZpbiB2YW4gWm9ubmV2ZWxkPC9hPlwiXG4gICAgLy8gICBleGFtcGxlIDQ6IHN0cmlwX3RhZ3MoJzEgPCA1IDUgPiAxJyk7XG4gICAgLy8gICByZXR1cm5zIDQ6ICcxIDwgNSA1ID4gMSdcbiAgICAvLyAgIGV4YW1wbGUgNTogc3RyaXBfdGFncygnMSA8YnIvPiAxJyk7XG4gICAgLy8gICByZXR1cm5zIDU6ICcxICAxJ1xuICAgIC8vICAgZXhhbXBsZSA2OiBzdHJpcF90YWdzKCcxIDxici8+IDEnLCAnPGJyPicpO1xuICAgIC8vICAgcmV0dXJucyA2OiAnMSA8YnIvPiAxJ1xuICAgIC8vICAgZXhhbXBsZSA3OiBzdHJpcF90YWdzKCcxIDxici8+IDEnLCAnPGJyPjxici8+Jyk7XG4gICAgLy8gICByZXR1cm5zIDc6ICcxIDxici8+IDEnXG5cbiAgICBhbGxvd2VkID0gKCgoYWxsb3dlZCB8fCAnJykgKyAnJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLm1hdGNoKC88W2Etel1bYS16MC05XSo+L2cpIHx8IFtdKVxuICAgICAgICAuam9pbignJyk7IC8vIG1ha2luZyBzdXJlIHRoZSBhbGxvd2VkIGFyZyBpcyBhIHN0cmluZyBjb250YWluaW5nIG9ubHkgdGFncyBpbiBsb3dlcmNhc2UgKDxhPjxiPjxjPilcbiAgICB2YXIgdGFncyA9IC88XFwvPyhbYS16XVthLXowLTldKilcXGJbXj5dKj4vZ2ksXG4gICAgICAgIGNvbW1lbnRzQW5kUGhwVGFncyA9IC88IS0tW1xcc1xcU10qPy0tPnw8XFw/KD86cGhwKT9bXFxzXFxTXSo/XFw/Pi9naTtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShjb21tZW50c0FuZFBocFRhZ3MsICcnKVxuICAgICAgICAucmVwbGFjZSh0YWdzLCBmdW5jdGlvbigkMCwgJDEpIHtcbiAgICAgICAgICAgIHJldHVybiBhbGxvd2VkLmluZGV4T2YoJzwnICsgJDEudG9Mb3dlckNhc2UoKSArICc+JykgPiAtMSA/ICQwIDogJyc7XG4gICAgICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5tb2R1bGUuZXhwb3J0cy5jYW5TcGxpdCA9IGNhblNwbGl0O1xubW9kdWxlLmV4cG9ydHMuaXNCbG9ja0xldmVsRWxlbWVudCA9IGlzQmxvY2tMZXZlbEVsZW1lbnQ7XG5tb2R1bGUuZXhwb3J0cy5pc1ZvaWRFbGVtZW50ID0gaXNWb2lkRWxlbWVudDtcbm1vZHVsZS5leHBvcnRzLmZpbmROZXh0V2hpdGVzcGFjZVBvc2l0aW9uID0gZmluZE5leHRXaGl0ZXNwYWNlUG9zaXRpb247XG5tb2R1bGUuZXhwb3J0cy5zdHJpcFRhZ3MgPSBzdHJpcF90YWdzOyJdfQ==
(1)
});
